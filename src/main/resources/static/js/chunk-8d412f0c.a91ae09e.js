(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d412f0c"],{"142d":function(e,t,a){"use strict";a("a97f")},a55b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","leave-active-class":"animate__backOutDown","enter-active-class":"animate__backInDown"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"login"}},[a("el-row",[a("el-col",{attrs:{span:6,offset:6}},[a("h1",{staticStyle:{color:"#606266"}},[a("i",{staticClass:"el-icon-user-solid"}),e._v(" 个人用户登录")])])],1),a("el-row",[a("el-col",{attrs:{id:"form",span:10,offset:7}},[a("el-col",{attrs:{span:16,offset:3}},[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("el-form-item",[a("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1),a("el-form-item",[a("el-row",[a("el-col",{attrs:{span:2,offset:16}},[a("el-checkbox",{attrs:{label:"7天内免登录",name:"type"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.user.remember,callback:function(t){e.$set(e.user,"remember",t)},expression:"user.remember"}})],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.loading,id:"bt_login"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)],1)],1),a("div",{staticStyle:{margin:"20px"}})],1)])],1)},o=[],s=(a("b0c0"),a("77ed"),{name:"Login",data:function(){return{user:{name:"",pass:"",remember:!1},loading:!1}},computed:{rem:function(){return!1===this.user.remember?"off":"on"}},mounted:function(){!0===this.$store.state.loginState&&this.$router.push("/")},methods:{login:function(){var e=this;this.loading=!0,axios({method:"post",url:"login",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"username="+this.user.name+"&password="+this.user.pass+"&remember-me="+this.rem}).then((function(t){e.loading=!1,200===t.data.code?(e.loading=!1,e.$store.commit("CLEAR_CART",""),e.$store.commit("PUT_LOGIN_STATE",!0),e.$store.commit("PUT_USERNAME",e.user.name),e.$notify({title:"登录成功",message:"欢迎回来，"+e.user.name+"!",type:"success"}),axios({url:"user",method:"get"}).then((function(t){200===t.data.code&&e.$store.commit("PUT_AVATAR",t.data.data.avatar)})),console.log(t.data),"role_admin"===t.data.data.authorities[0].authority.toLowerCase()?e.$router.push("/admin"):e.$router.push("/")):e.$message({message:t.data.data,type:"error"})}),(function(t){e.$message({message:t,type:"error"}),e.loading=!1}))}}}),r=s,i=(a("142d"),a("2877")),l=Object(i["a"])(r,n,o,!1,null,"16de1977",null);t["default"]=l.exports},a97f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-8d412f0c.a91ae09e.js.map